{"version":3,"sources":["app.js","signin.js","signup.js","define.js","authinterceptor.js","currentuser.js","sessiontoken.js","users.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function() {\n\tvar app = angular.module('workoutlog', [\n\t\t'ui.router',\n\t\t'workoutlog.define',\n\t\t'workoutlog.auth.signup',\n\t\t'workoutlog.auth.signin',\n\t]);\n\n\tfunction config($urlRouterProvider) {\n\t\t$urlRouterProvider.otherwise('/signin');\n\t}\n\n\tconfig.$inject = [ '$urlRouterProvider' ];\n\tapp.config(config);\n\tapp.constant('API_BASE', '//localhost:3000/api/');\n})();","(function() {\n\tangular\n\t\t.module('workoutlog.auth.signin', ['ui.router'])\n\t\t.config(signinConfig);\n\n\t\tfunction signinConfig($stateProvider) {\n\t\t\t$stateProvider\n\t\t\t\t.state('signin', {\n\t\t\t\t\turl: '/signin',\n\t\t\t\t\ttemplateUrl: '/auth/signin.html',\n\t\t\t\t\tcontroller: SignInController,\n\t\t\t\t\tcontrollerAs: 'ctrl',\n\t\t\t\t\tbindToController: this\n\t\t\t\t});\n\t\t}\n\n\t\tsigninConfig.$inject = ['$stateProvider'];\n\n\t\tfunction SignInController($state, UsersService) {\n\t\t\tvar vm = this;\n\t\t\tvm.user = {};\n\t\t\tvm.submit = function() {\n\t\t\t\tUsersService.create(vm.user).then(function(response) {\n\t\t\t\t\t$state.go('define');\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tSignInController.$inject = [ '$state', 'UsersService' ];\n})();","(function() {\n\tangular\n\t\t.module('workoutlog.auth.signup', ['ui.router'])\n\t\t.config(signupConfig);\n\n\t\tfunction signupConfig($stateProvider) {\n\t\t\t$stateProvider\n\t\t\t\t.state('signup', {\n\t\t\t\t\turl: '/signup',\n\t\t\t\t\ttemplateUrl: '/auth/signup.html',\n\t\t\t\t\tcontroller: SignUpController,\n\t\t\t\t\tcontrollerAs: 'ctrl',\n\t\t\t\t\tbindToController: this\n\t\t\t\t});\n\t\t}\n\n\t\tsignupConfig.$inject = ['$stateProvider'];\n\n\t\tfunction SignUpController($state, UsersService) {\n\t\t\tvar vm = this;\n\t\t\tvm.user = {};\n\t\t\tvm.submit = function() {\n\t\t\t\tUsersService.create(vm.user).then(function(response) {\n\t\t\t\t\t$state.go('define');\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tSignUpController.$inject = [ '$state', 'UsersService' ];\n})();","(function() {\n\tangular.module('workoutlog.define', [ \n\t\t'ui.router' \n\t])\n\t.config(defineConfig);\n\n\tfunction defineConfig($stateProvider) {\n\n\t\t$stateProvider\n\t\t\t.state('define', {\n\t\t\t\turl: '/define',\n\t\t\t\ttemplateUrl: '/define/define.html',\n\t\t\t\tcontroller: DefineController\n\t\t\t});\n\t}\n\n\tdefineConfig.$inject = [ '$stateProvider' ];\n\n\tfunction DefineController($scope, $state ) {\n\t\t$scope.message = \"A friendly place to log workouts!\";\n\t}\n\n\tDefineController.$inject = ['$scope', '$state' ];\n})();","(function() {\n\tangular.module('workoutlog')\n\t\t.factory('AuthInterceptor', \n\t\t\t[ 'SessionToken', 'API_BASE', \n\t\t\tfunction(SessionToken, API_BASE) {\n\t\t\t\treturn {\n\t\t\t\t\trequest: function(config) {\n\t\t\t\t\t\tvar token = SessionToken.get();\n\t\t\t\t\t\tif (token && config.url.indexOf(API_BASE) > -1) {\n\t\t\t\t\t\t\tconfig.headers['Authorization'] = token;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn config;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}]);\n\n\tangular.module('workoutlog')\n\t\t.config(['$httpProvider', function($httpProvider) {\n\t\t\treturn $httpProvider.interceptors.push('AuthInterceptor');\n\t\t}]);\n})();","(function() {\n\tangular.module('workoutlog')\n\t\t.service('CurrentUser', [ '$window', function($window) {\n\t\t\tfunction CurrentUser() {\n\t\t\t\tvar currUser = $window.localStorage.getItem('currentUser');\n\t\t\t\tif (currUser && currUser !== \"undefined\") {\n\t\t\t\t\tthis.currentUser = JSON.parse($window.localStorage.getItem('currentUser'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tCurrentUser.prototype.set = function(user) {\n\t\t\t\tthis.currentUser = user;\n\t\t\t\t$window.localStorage.setItem('currentUser', JSON.stringify(user));\n\t\t\t};\n\t\t\tCurrentUser.prototype.get = function() {\n\t\t\t\treturn this.currentUser || {};\n\t\t\t};\n\t\t\tCurrentUser.prototype.clear = function() {\n\t\t\t\tthis.currentUser = undefined;\n\t\t\t\t$window.localStorage.removeItem('currentUser');\n\t\t\t};\n\t\t\tCurrentUser.prototype.isSignedIn = function() {\n\t\t\t\treturn !!this.get().id;\n\t\t\t};\n\t\t\treturn new CurrentUser();\n\t\t}]);\n})();","(function() {\n\tangular.module('workoutlog')\n\t\t.service('SessionToken', [ '$window', function($window) {\n\t\t\tfunction SessionToken() {\n\t\t\t\tthis.sessionToken = $window.localStorage.getItem('sessionToken');\n\t\t\t}\n\t\t\tSessionToken.prototype.set = function(token) {\n\t\t\t\tthis.sessionToken = token;\n\t\t\t\t$window.localStorage.setItem('sessionToken', token);\n\t\t\t};\n\t\t\tSessionToken.prototype.get = function() {\n\t\t\t\treturn this.sessionToken;\n\t\t\t};\n\t\t\tSessionToken.prototype.clear = function() {\n\t\t\t\tthis.sessionToken = undefined;\n\t\t\t\t$window.localStorage.removeItem('sessionToken');\n\t\t\t};\n\t\t\treturn new SessionToken();\n\t\t}]);\n})();","(function() {\n\tangular.module('workoutlog')\n\t\t.service('UsersService', [\n\t\t\t'$http', 'API_BASE', 'SessionToken', 'CurrentUser',\n\t\t\tfunction($http, API_BASE, SessionToken, CurrentUser) {\n\t\t\t\tfunction UsersService() {\n\t\t\t\t}\n\n\t\t\t\tUsersService.prototype.create = function(user) {\n\t\t\t\t\tvar userPromise = $http.post(API_BASE + 'user', {\n\t\t\t\t\t\tuser: user\n\t\t\t\t\t});\n\n\t\t\t\t\tuserPromise.then(function(response) {\n\t\t\t\t\t\tSessionToken.set(response.data.sessionToken);\n\t\t\t\t\t\tCurrentUser.set(response.data.user);\n\t\t\t\t\t});\n\t\t\t\t\treturn userPromise;\n\t\t\t\t};\n\n\t\t\t\tUsersService.prototype.login = function(user) {\n\t\t\t\t\tvar loginPromise = $http.post(API_BASE + 'login', {\n\t\t\t\t\t\tuser: user\n\t\t\t\t\t});\n\t\t\t\t\tloginPromise.then(function(response) {\n\t\t\t\t\t\tSessionToken.set(response.data.sessionToken);\n\t\t\t\t\t\tCurrentUser.set(response.data.user);\n\t\t\t\t\t});\n\t\t\t\t\treturn loginPromise;\n\t\t\t\t};\n\n\t\t\t\treturn new UsersService();\n\t\t\t}]);\n})();"],"sourceRoot":"/source/"}